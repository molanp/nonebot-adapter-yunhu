# 配置项说明

`nonebot-adapter-yunhu` 适配器的所有配置都在 Nonebot 的配置文件(一般是`.env.prod`或`.env.dev`)中完成。

本页将详细介绍每个配置项的含义和用法。

## 基础设置

### 机器人配置列表 (`yunhu_bots`)

这是适配器的核心配置，它允许您同时管理一个或多个云湖机器人。

`yunhu_bots` 是一个列表，列表中的每一个字典都代表一个独立的机器人实例。您可以通过键入新的字典来配置多个机器人。

对于列表中的每一个字典，您需要配置以下字段：

- **`app_id`**: (`str`)

  - **描述**: 填写您在云湖平台创建的机器人的 **ID**。
  - **必填**: 是

- **`token`**: (`str`)
  - **描述**: 填写您在云湖平台获取的机器人 **Token**。请妥善保管，不要泄露。
  - **必填**: 是

-  **`use_stream`**: (`bool`)
  - **描述**: 是否使用流式 API 调用。
  - **默认值**: `false`
  - **必填**: 否

## 进阶设置

### API 调用超时时间 (`API_TIMEOUT`)

::: warning
这是 Nonebot 的内置配置，若不了解请勿修改
:::

- **`API_TIMEOUT`**: (`int`)
  - **描述**: API 调用的超时时间（秒）。
  - **默认值**: `30`
  - **步长**: 1 秒

### 监听地址 (`HOST`)

::: warning
必须是 `0.0.0.0` , 否则将无法接收云湖消息
:::

- **`HOST`**: (`IPvAnyAddress`)
  - **描述**: 监听地址。
  - **默认值**: `127.0.0.1`
  - **必填**: 否

::: warning
注意，这个配置会让你的bot对公网开放。

如果你还有其他适配器正在工作，请设置认证以免被入侵

比如 `onebot` 适配器需设置 `ONEBOT_V11_ACCESS_TOKEN`/`ONEBOT_V12_ACCESS_TOKEN` 来确保安全
:::

### 监听端口 (`PORT`)

- **`PORT`**: (`int`1 ~ 65535)
  - **描述**: 监听端口。
  - **默认值**: `8080`
  - **必填**: 否

### 命令起始符 (`COMMAND_START`)

- **`COMMAND_START`**: (`str`)

  - **描述**: 命令起始符,只有以这个开头的消息才会被 Nonebot 处理。
  - **默认值**: `["/"]`
  - **必填**: 否
  - **提示**: 默认值是 `["/"]`，表示以 `/` 开头的消息会被处理。如果你不想要命令起始符，请将此字段设置为空 `[""]`。

::: tip
更多配置项请查看 [内置配置项](https://nonebot.dev/docs/appendices/config#%E5%86%85%E7%BD%AE%E9%85%8D%E7%BD%AE%E9%A1%B9)
:::

## 示例配置

这是一份可以正常工作的配置

```dotenv
YUNHU_BOTS = '[{
    "app_id": "123",
    "token": "xxx",
    "use_stream": true
}
]
'

COMMAND_START=[""] # 空命令起始符

LOG_LEVEL=INFO # 日志等级，默认即为 INFO

HOST=0.0.0.0 # 必须为这个值
PORT=11163 # 自定义的端口，默认为 8080
DRIVER=~fastapi+~httpx # 驱动器, 需选择 ASGI 服务端驱动器 和 HTTP 客户端驱动器
# 如果你不明白这是什么意思，请使用 `~fastapi+~httpx`
```
